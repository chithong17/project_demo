<Window x:Class="RestaurantWPF.Views.Admin.Dialogs.OrderDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:RestaurantWPF.ViewModels.Admin"
        Title="Order Details"
        Height="500" Width="600"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="#FAFAFA">


    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 🔹 Form nhập -->
        <StackPanel Orientation="Vertical">
            <TextBlock Text="Order Information" 
                       FontSize="20"
                       FontWeight="Bold"
                       Foreground="#2C3E50"
                       Margin="0,0,0,15"/>

            <!-- Table -->
            <TextBlock Text="Table:" FontWeight="SemiBold" Margin="0,0,0,5"/>
            <ComboBox ItemsSource="{Binding Tables}"
          SelectedValue="{Binding CurrentOrder.TableId, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
          SelectedValuePath="TableId"
          DisplayMemberPath="Name"
          Margin="0,0,0,10"/>

            <!-- Customer -->
            <TextBlock Text="Customer:" FontWeight="SemiBold" Margin="0,0,0,5"/>
            <ComboBox ItemsSource="{Binding Customers}"
          SelectedValue="{Binding CurrentOrder.CustomerId, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
          SelectedValuePath="UserId"
          DisplayMemberPath="FullName"
          Margin="0,0,0,10"/>

            <!-- Staff -->
            <TextBlock Text="Staff:" FontWeight="SemiBold" Margin="0,0,0,5"/>
            <ComboBox ItemsSource="{Binding Staffs}"
          SelectedValue="{Binding CurrentOrder.StaffId, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
          SelectedValuePath="UserId"
          DisplayMemberPath="FullName"
          Margin="0,0,0,10"/>


            <!-- Time -->
            <TextBlock Text="Order Time:" FontWeight="SemiBold" Margin="0,0,0,5"/>
            <DatePicker SelectedDate="{Binding CurrentOrder.OrderTime}"
                        Margin="0,0,0,10"/>

            <!-- Status -->
            <TextBlock Text="Status:" FontWeight="SemiBold" Margin="0,0,0,5"/>
            <ComboBox SelectedValue="{Binding CurrentOrder.Status, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
          SelectedValuePath="Tag">
                <ComboBoxItem Content="Pending" Tag="0"/>
                <ComboBoxItem Content="Completed" Tag="1"/>
                <ComboBoxItem Content="Cancelled" Tag="2"/>
            </ComboBox>


            <!-- Note -->
            <TextBlock Text="Note:" FontWeight="SemiBold" Margin="0,0,0,5"/>
            <TextBox Text="{Binding CurrentOrder.Note}"
                     Height="80"
                     AcceptsReturn="True"
                     TextWrapping="Wrap"
                     Margin="0,0,0,10"/>
        </StackPanel>

        <!-- 🔹 Nút hành động -->
        <StackPanel Grid.Row="1"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="0,15,0,0">
            <Button Content="💾 Save"
        Width="100"
        Height="35"
        Margin="10,0,10,0"
        Background="#27AE60"
        Foreground="White"
        Command="{Binding SaveCommand}"
        CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}"/>

            <Button Content="❌ Cancel"
        Width="100"
        Height="35"
        Margin="10,0,10,0"
        Background="#C0392B"
        Foreground="White"
        Command="{Binding CancelCommand}"
        CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}"/>

        </StackPanel>
    </Grid>
</Window>
